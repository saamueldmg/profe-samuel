<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kit de Aprendizaje v7: Inicio de Sesión</title>
    
    <!-- 1. Tailwind CSS para los estilos de la página -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. Highlight.js para el resaltado de código -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <!-- Carga de lenguajes adicionales para JSX -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/jsx.min.js"></script>

    <style>
        /* Estilos personalizados leves */
        body {
            @apply bg-gray-50 text-gray-800 leading-relaxed;
        }
        h1 {
            @apply text-4xl font-bold text-gray-900 mb-4 tracking-tight;
        }
        h2 {
            @apply text-2xl font-bold text-indigo-700 mb-5 pb-2 border-b border-indigo-200;
        }
        p {
            @apply mb-4 text-lg;
        }
        pre {
            @apply bg-gray-800 text-white p-4 rounded-lg shadow-md overflow-x-auto;
        }
        code {
            @apply font-mono;
        }
        .location-box {
            @apply bg-blue-50 border-l-4 border-blue-500 text-blue-800 p-4 rounded-md my-4 font-mono text-sm;
        }
        .action-box {
            @apply bg-yellow-50 border-l-4 border-yellow-500 text-yellow-800 p-4 rounded-md my-4 text-base;
        }
    </style>
</head>
<body class="font-sans">

    <div class="container mx-auto max-w-4xl p-6 md:p-12">
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-extrabold text-indigo-800">Kit de Aprendizaje v7</h1>
            <p class="text-2xl text-gray-600 mt-2">¡Implementando Inicio de Sesión con Modal!</p>
        </header>

        <article>
            <p class="text-xl text-center mb-10">¡Hola, equipo! Vamos a añadir una funcionalidad esencial a nuestra tienda: el inicio de sesión. Lo haremos de una forma moderna y amigable, usando un modal (ventana emergente) en lugar de una página separada. ¡Prepárense para conectar usuarios!</p>

            <!-- Paso 1 -->
            <section class="mb-12 bg-white p-8 rounded-lg shadow-lg">
                <h2>Paso 1: Preparando la Base de Datos de Usuarios (user.js)</h2>
                <p>Necesitamos tener una lista de usuarios "registrados" para probar nuestro login. Estos son datos de prueba. Fíjate en los campos <code>username</code>, <code>password</code> y <code>name</code>.</p>
                <div class="action-box">
                    <strong>Acción:</strong> Asegúrate de tener la carpeta <code>data</code> dentro de <code>src</code>. Dentro de <code>data</code>, crea o verifica el archivo <code>user.js</code> con este contenido.
                </div>
                <div class="location-box">
                    <strong>Ubicación:</strong> <code>src/data/user.js</code>
                </div>
<pre><code class="language-javascript">
// src/data/user.js
export const users = [
    { id: 1, username: 'estudiante1', password: 'password123', name: 'Ana García' },
    { id: 2, username: 'profe', password: 'password456', name: 'Carlos Profe' },
    { id: 3, username: 'maria', password: 'password789', name: 'María López' },
    { id: 4, username: 'david', password: 'password101', name: 'David Gómez' },
    { id: 5, username: 'sofia', password: 'password112', name: 'Sofía Rodríguez' },
];
// ¡Recuerden! Guardar contraseñas así es solo para probar, ¡nunca en una app real!
</code></pre>
            </section>

            <!-- Paso 2 -->
            <section class="mb-12 bg-white p-8 rounded-lg shadow-lg">
                <h2>Paso 2: Creando el Formulario Emergente (LoginModal.jsx)</h2>
                <p>Este nuevo componente será nuestra ventana de inicio de sesión. Será una ventana "modal" que aparece sobre el contenido.</p>
                <div class="action-box">
                    <strong>Acción:</strong> Crea una carpeta <code>modals</code> dentro de <code>src/assets/components/</code>. Dentro de <code>modals</code>, crea el archivo <code>LoginModal.jsx</code> y pega el siguiente código.
                </div>
                <div class="location-box">
                    <strong>Ubicación:</strong> <code>src/assets/components/modals/LoginModal.jsx</code>
                </div>
<pre><code class="language-jsx">
// src/assets/components/modals/LoginModal.jsx
import React, { useState } from 'react';

const LoginModal = ({ onLogin, onClose }) => {
    const [username, setUsername] = useState('');
    const [password, setPassword] = useState('');
    const [error, setError] = useState('');

    const handleSubmit = (e) => {
        e.preventDefault();
        setError('');
        const loginSuccess = onLogin(username, password);
        if (loginSuccess) {
            onClose();
        } else {
            setError('Usuario o contraseña incorrectos.');
        }
    };

    return (
        &lt;div className="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 animate-fade-in"&gt;
            &lt;div className="bg-white p-8 rounded-lg shadow-xl w-full max-w-sm"&gt;
                &lt;h2 className="text-2xl font-bold mb-6 text-center text-gray-800"&gt;Iniciar Sesión&lt;/h2&gt;
                &lt;form onSubmit={handleSubmit}&gt;
                    {/* Campos de usuario y contraseña */}
                    &lt;div className="mb-4"&gt;
                        &lt;label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="username"&gt;Usuario:&lt;/label&gt;
                        &lt;input id="username" type="text" value={username} onChange={(e) => setUsername(e.target.value)} required className="input-style shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-orange-500" placeholder="Tu nombre de usuario" /&gt;
                    &lt;/div&gt;
                    &lt;div className="mb-6"&gt;
                        &lt;label className="block text-gray-700 text-sm font-bold mb-2" htmlFor="password"&gt;Contraseña:&lt;/label&gt;
                        &lt;input id="password" type="password" value={password} onChange={(e) => setPassword(e.target.value)} required className="input-style shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:ring-2 focus:ring-orange-500" placeholder="Tu contraseña" /&gt;
                    &lt;/div&gt;
                    {error && &lt;p className="text-red-500 text-xs italic mb-4"&gt;{error}&lt;/p&gt;}
                    &lt;div className="flex items-center justify-between"&gt;
                        &lt;button type="submit" className="btn-primary bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition duration-300"&gt;Entrar&lt;/button&gt;
                        &lt;button type="button" onClick={onClose} className="btn-secondary inline-block align-baseline font-bold text-sm text-gray-500 hover:text-gray-700"&gt;Cancelar&lt;/button&gt;
                    &lt;/div&gt;
                &lt;/form&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    );
};
export default LoginModal;
</code></pre>
            </section>

            <!-- Paso 3 -->
            <section class="mb-12 bg-white p-8 rounded-lg shadow-lg">
                <h2>Paso 3: Conectando el Modal en App.jsx</h2>
                <p><code>App.jsx</code> es el cerebro de la aplicación. Ahora necesita saber cuándo mostrar/ocultar el modal. También conectará la función <code>login</code> con el modal y la base de datos de usuarios.</p>
                <div class="action-box">
                    <strong>Acción:</strong> Reemplaza el contenido de <code>src/App.jsx</code> con este código. Fíjate en los nuevos estados <code>currentUser</code> y <code>isLoginModalOpen</code>, la importación de <code>users</code> y las funciones <code>login</code>, <code>logout</code>, <code>openLoginModal</code> y <code>closeLoginModal</code>.
                </div>
                <div class="location-box">
                    <strong>Ubicación:</strong> <code>src/App.jsx</code>
                </div>
<pre><code class="language-jsx">
// src/App.jsx
import React, { useState } from 'react';
// --- Asegúrate que estas rutas coincidan con tu estructura ---
import MainHeader from './assets/components/header/MainHeader.jsx';
import CategoryPage from './assets/components/pages/CategoryPage.jsx';
import AboutPage from './assets/components/pages/AboutPage.jsx';
import MainProduct from './assets/components/product/MainProduct.jsx';
import PromocionBanner from './assets/components/product/PromocionBanner.jsx';
import FeaturedProducts from './assets/components/product/FeaturedProducts.jsx';
import FooterProduct from './assets/components/product/FooterProduct.jsx';
import LoginModal from './assets/components/modals/LoginModal.jsx';
import { users } from '../data/user.js'; // Ajusta la ruta si es necesario

const HomePage = () => (
    &lt;&gt;
        &lt;MainProduct /&gt;
        &lt;PromocionBanner /&gt;
        &lt;FeaturedProducts /&gt;
        &lt;FooterProduct /&gt;
    &lt;/&gt;
);

const App = () => {
    const [currentPage, setCurrentPage] = useState('home');
    const [currentUser, setCurrentUser] = useState(null);
    const [isLoginModalOpen, setIsLoginModalOpen] = useState(false); // Estado del modal

    const login = (username, password) => {
        const foundUser = users.find(u => u.username === username && u.password === password);
        if (foundUser) {
            setCurrentUser(foundUser);
            return true; // Éxito
        }
        return false; // Fallo
    };
    const logout = () => { setCurrentUser(null); navigateTo('home'); };
    const navigateTo = (page) => { setCurrentPage(page); };
    const renderPage = () => {
         switch (currentPage) {
            case 'women':
                return &lt;CategoryPage title="Colección Mujer" category="Mujer" /&gt;;
            case 'men':
                return &lt;CategoryPage title="Colección Hombre" category="Hombre" /&gt;;
            case 'about':
                return &lt;AboutPage /&gt;;
            default:
                return &lt;HomePage /&gt;;
        }
    };
    const openLoginModal = () => setIsLoginModalOpen(true);
    const closeLoginModal = () => setIsLoginModalOpen(false);

    return (
        &lt;div&gt;
            &lt;MainHeader
                navigateTo={navigateTo}
                currentUser={currentUser}
                onLogout={logout}
                onShowLogin={openLoginModal} // Pasamos la función para abrir el modal
            /&gt;
            {renderPage()}
            {isLoginModalOpen && &lt;LoginModal onLogin={login} onClose={closeLoginModal} /&gt;}
        &lt;/div&gt;
    );
};
export default App;
</code></pre>
            </section>

            <!-- Paso 4 -->
            <section class="mb-12 bg-white p-8 rounded-lg shadow-lg">
                <h2>Paso 4: Actualizando el Header con Botones Dinámicos</h2>
                <p>Finalmente, modificamos el <code>MainHeader</code>. Ahora mostrará "Iniciar Sesión" si no hay nadie conectado (<code>currentUser</code> es <code>null</code>), o un saludo y "Cerrar Sesión" si el <code>currentUser</code> existe.</p>
                <div class="action-box">
                    <strong>Acción:</strong> Reemplaza el contenido de <code>src/assets/components/header/MainHeader.jsx</code> con este código. Observa cómo usa las nuevas propiedades <code>currentUser</code>, <code>onLogout</code> y <code>onShowLogin</code> para decidir qué botones mostrar.
                </div>
                <div class="location-box">
                    <strong>Ubicación:</strong> <code>src/assets/components/header/MainHeader.jsx</code>
                </div>
<pre><code class="language-jsx">
// src/assets/components/header/MainHeader.jsx
import React, { useState } from 'react';
// --- Asegúrate que estas rutas coincidan con tu estructura ---
import MenuIcon from '../icons/MenuIcons.jsx';
import CartIcon from '../icons/CartIcon.jsx';
import CloseIcon from '../icons/CloseIcon.jsx';
import NavLinkHeader from './NavLinkHeader.jsx';

// Iconos simples (puedes reemplazarlos por SVGs más elaborados si prefieres)
const LoginIcon = () => ( &lt;svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}&gt; &lt;path strokeLinecap="round" strokeLinejoin="round" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1" /&gt; &lt;/svg&gt; );
const LogoutIcon = () => ( &lt;svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}&gt; &lt;path strokeLinecap="round" strokeLinejoin="round" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1" /&gt; &lt;/svg&gt; );

const MainHeader = ({ navigateTo, currentUser, onLogout, onShowLogin }) => {
    const COMPANY_NAME = "shoreline";
    const [navClass, setnavClass] = useState("hidden font-bold md:mr-auto md:gap-4 md:flex md:flex-row top-0 left-0 p-8 md:static md:p-0 md:h-auto");

    const handleOpenMenu = () => {
        setnavClass("absolute w-4/5 font-bold flex flex-col md:mr-auto md:gap-4 md:flex md:flex-row top-0 left-0 bg-white h-full p-8 gap-y-[21px] md:static md:p-0 md:h-auto z-10");
    };
    const handleClosedMenu = () => {
         setnavClass("hidden font-bold md:mr-auto md:gap-4 md:flex md:flex-row top-0 left-0 p-8 md:static md:p-0 md:h-auto");
    };

    return (
        &lt;&gt;
            &lt;header className='container mx-auto flex items-center px-4 gap-8 bg-white h-20 border-b border-gray-200'&gt;
                &lt;button className='md:hidden' onClick={handleOpenMenu}&gt;&lt;MenuIcon /&gt;&lt;/button&gt;
                &lt;div onClick={() => navigateTo('home')} className='mr-auto md:mr-0 font-black text-3xl text-gray-900 tracking-wider cursor-pointer'&gt;
                    {COMPANY_NAME}
                &lt;/div&gt;
                &lt;nav className={navClass}&gt;
                   &lt;button className='mb-12 md:hidden' onClick={handleClosedMenu}&gt;&lt;CloseIcon /&gt;&lt;/button&gt;
                   &lt;NavLinkHeader text="Hombre" onClick={() => navigateTo('men')} /&gt;
                   &lt;NavLinkHeader text="Mujer" onClick={() => navigateTo('women')} /&gt;
                   {/* &lt;NavLinkHeader text="Oferta" onClick={() => navigateTo('sale')} /&gt; */}
                   &lt;NavLinkHeader text="Acerca de" onClick={() => navigateTo('about')} /&gt;
                &lt;/nav&gt;
                &lt;div className='flex items-center gap-6 ml-auto'&gt;
                    &lt;button className="relative"&gt;&lt;CartIcon /&gt;&lt;/button&gt;
                    {/* --- Zona de Login / Usuario --- */}
                    {currentUser ? (
                        &lt;div className="flex items-center gap-4"&gt;
                            &lt;span className="user-greeting font-semibold text-gray-700 hidden sm:block"&gt;Hola, {currentUser.name.split(' ')[0]}&lt;/span&gt;
                            &lt;button onClick={onLogout} className="btn-logout flex items-center text-sm text-red-600 hover:text-red-800 transition font-semibold bg-red-50 hover:bg-red-100 px-3 py-2 rounded-md"&gt;&Glt;LogoutIcon /&gt; &lt;span className="ml-1"&gt;Cerrar Sesión&lt;/span&gt;&lt;/button&gt;
                        &lt;/div&gt;
                    ) : (
                        &lt;button onClick={onShowLogin} className="btn-login flex items-center gap-2 text-gray-600 hover:text-orange-500 transition font-semibold bg-gray-100 hover:bg-gray-200 px-4 py-2 rounded-md"&gt;&lt;LoginIcon /&gt; Iniciar Sesión&lt;/button&gt;
                    )}
                &lt;/div&gt;
            &lt;/header&gt;
        &lt;/&gt;
    );
};
export default MainHeader;
</code></pre>
            </section>
            
            <!-- Conclusión -->
            <section class="mt-12 text-center bg-green-100 p-8 rounded-lg shadow-lg">
                <h2 class="text-3xl font-bold text-green-800 border-none">¡Prueba Final!</h2>
                <p class="text-xl text-green-700">¡Con estos 4 pasos, has implementado un sistema de inicio de sesión con modal! Ahora la aplicación se siente mucho más completa.</p>
                <p class="text-xl text-green-700">Prueba a iniciar sesión con <strong>estudiante1 / password123</strong> para ver el cambio en el header. ¡Excelente trabajo!</p>
            </section>
        </article>
    </div>

    <!-- Script para inicializar highlight.js -->
    <script>
        hljs.highlightAll();
    </script>
</body>
</html>
